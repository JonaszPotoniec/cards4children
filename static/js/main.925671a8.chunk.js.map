{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["App","props","state","files","numberOfImages","combinations","loadFile","bind","removeFile","changeNumber","calculateCombinations","event","this","setState","concat","URL","createObjectURL","target","set","k","i","j","combs","head","tailcombs","length","push","slice","temp","splice","x","value","className","images","React","Component","Configuration","convertToPng","convertToAllPng","node","document","getElementById","htmlToImage","toPng","then","dataUrl","link","createElement","download","href","click","Array","from","children","map","id","type","onChange","min","e","key","onClick","src","alt","Preview","combination","index","style","gridTemplateColumns","Math","ceil","sqrt","gridTemplateRows","links","linkIndex","transform","random","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.925671a8.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\nimport htmlToImage from 'html-to-image';\n\nclass App extends React.Component  {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: [],\n      numberOfImages: 1,\n      combinations: []\n    }\n\n    this.loadFile = this.loadFile.bind(this);\n    this.removeFile = this.removeFile.bind(this);\n    this.changeNumber = this.changeNumber.bind(this);\n    this.calculateCombinations = this.calculateCombinations.bind(this);\n  }\n\n  loadFile(event){\n    this.setState({\n      files: this.state.files.concat(URL.createObjectURL(event.target.files[0]))\n    }, this.calculateCombinations)\n  }\n\n  calculateCombinations(){\n    this.setState({\n      combinations: this.combinations(this.state.files, this.state.numberOfImages)\n    })\n  }\n\n  combinations(set, k) {\n    var i, j, combs, head, tailcombs;\n    if (k > set.length || k <= 0) {\n        return [];\n    }\n    if (k === set.length) {\n        return [set];\n    }\n    if (k === 1) {\n        combs = [];\n        for (i = 0; i < set.length; i++) {\n            combs.push([set[i]]);\n        }\n        return combs;\n    }\n    combs = [];\n    for (i = 0; i < set.length - k + 1; i++) {\n        head = set.slice(i, i+1);\n        tailcombs = this.combinations(set.slice(i + 1), k - 1);\n        for (j = 0; j < tailcombs.length; j++) {\n            combs.push(head.concat(tailcombs[j]));\n        }\n    }\n    return combs;\n  }\n\n  removeFile(i){\n    let temp = this.state.files;\n    temp.splice(i, 1);\n\n    this.setState({\n      files: temp\n    })\n  }\n\n  changeNumber(x){\n    this.setState({\n      numberOfImages: x.target.value\n    }, this.calculateCombinations)\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Configuration\n          images={this.state.files}\n          loadFile={this.loadFile}\n          removeFile={this.removeFile}\n          changeNumber={this.changeNumber}\n          numberOfImages={this.state.numberOfImages}\n        />\n        <Preview\n          combinations={this.state.combinations}\n          numberOfImages={this.state.numberOfImages}\n        />\n      </div>\n    );\n  }\n}\n\nclass Configuration extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: []\n    }\n    this.convertToPng = this.convertToPng.bind(this);\n    this.convertToAllPng = this.convertToAllPng.bind(this);\n  }\n\n  convertToPng(){\n    var node = document.getElementById('Preview');\n\n    htmlToImage.toPng(node)\n      .then((dataUrl) => {\n        var link = document.createElement('a');\n        link.download = 'obrazki.png';\n        link.href = dataUrl;\n        link.click();\n      });\n  }\n\n  convertToAllPng(){\n    Array.from(document.getElementById('Preview').children).map((node, i) => {\n      htmlToImage.toPng(node)\n        .then((dataUrl) => {\n          var link = document.createElement('a');\n          link.download = 'image-'+(i+1)+'.png';\n          link.href = dataUrl;\n          link.click();\n        });\n    })\n  }\n\n  render() {\n    return (\n      <div id=\"ConfigurationMenu\">\n        <div>\n          <div>\n            <input type=\"file\" onChange={this.props.loadFile}/>\n          </div>\n        </div>\n        <div>\n          Liczba obrazk√≥w: <input type=\"number\" min={1} value={this.props.numberOfImages} onChange={this.props.changeNumber}/>\n        </div>\n        <div id=\"ImagePreview\">\n          {\n            this.props.images.map((e, i) => {\n              return (\n                <div key={i}>\n                  <button onClick={() => this.props.removeFile(i)}>X</button>\n                  <img src={e} alt={\"Photo number \"+i} />\n                </div>\n              )\n            })\n          }\n        </div>\n        <div>\n          <button onClick={this.convertToPng} className=\"menuButton\">Pobierz razem</button>\n          <button onClick={this.convertToAllPng} className=\"menuButton\">Pobierz oddzielnie</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Preview extends React.Component {\n\n  render() {\n\n    return (\n      <div id=\"Preview\">\n        {\n          this.props.combinations.map((combination, index) => {\n            return <div key={index} className=\"card\" style={{\n                gridTemplateColumns: \"repeat(\"+Math.ceil(Math.sqrt(this.props.numberOfImages))+\", auto)\",\n                gridTemplateRows: \"repeat(\"+Math.ceil(Math.sqrt(this.props.numberOfImages))+\", auto)\"\n              }}>\n              {\n                combination.map((links, linkIndex) => {\n                  return <img src={links} key={linkIndex} alt=\"links\" style={{transform: \"rotate(\"+Math.ceil(Math.random()*360)+\"deg)\"}}/>\n                })\n              }\n            </div>\n          })\n        }\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}