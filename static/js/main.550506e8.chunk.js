(this.webpackJsonpkajak=this.webpackJsonpkajak||[]).push([[0],{13:function(e,t,n){e.exports=n(26)},18:function(e,t,n){},19:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(12),r=n.n(s),o=(n(18),n(3)),c=n(4),l=n(6),u=n(5),m=n(1),h=n(7),g=(n(19),n(8)),p=n.n(g),b=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={files:[],numberOfImages:1,combinations:[],settings:{gap:2,doodle:!1}},n.setSettings=n.setSettings.bind(Object(m.a)(n)),n.loadFile=n.loadFile.bind(Object(m.a)(n)),n.removeFile=n.removeFile.bind(Object(m.a)(n)),n.changeNumber=n.changeNumber.bind(Object(m.a)(n)),n.calculateCombinations=n.calculateCombinations.bind(Object(m.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setSettings",value:function(e,t){console.log(t.target.checked);var n=this.state.settings;"false"===t.target.value?n[e]=t.target.checked:n[e]=t.target.value,this.setState({settings:n})}},{key:"loadFile",value:function(e){this.setState({files:this.state.files.concat(URL.createObjectURL(e.target.files[0]))},this.calculateCombinations)}},{key:"calculateCombinations",value:function(){var e=this;1==this.state.settings.doodle&&this.isPrime(this.state.numberOfImages-1)?this.setState({combinations:this.DobbleCards(this.state.numberOfImages).map((function(t){return t.map((function(t,n){return e.state.files[t%e.state.files.length]}))}))}):this.setState({combinations:this.combinations(this.state.files,this.state.numberOfImages)})}},{key:"isPrime",value:function(e){for(var t=2;t<e;t++)if(e%t===0)return!1;return e>1}},{key:"combinations",value:function(e,t){var n,a,i,s,r;if(t>e.length||t<=0)return[];if(t===e.length)return[e];if(1===t){for(i=[],n=0;n<e.length;n++)i.push([e[n]]);return i}for(i=[],n=0;n<e.length-t+1;n++)for(s=e.slice(n,n+1),r=this.combinations(e.slice(n+1),t-1),a=0;a<r.length;a++)i.push(s.concat(r[a]));return i}},{key:"DobbleCards",value:function(e){for(var t=[],n=0;n<e;n++){for(var a=[0],i=1;i<e;i++)a.push(n*(e-1)+i);t.push(a.slice())}for(var s=1;s<e;s++)for(n=0;n<e-1;n++){for(a=[s],i=1;i<e;i++)a.push(1+i*(e-1)+((s-1)*(i-1)+n)%(e-1));t.push(a.slice())}return console.log(t),t}},{key:"removeFile",value:function(e){var t=this.state.files;t.splice(e,1),this.setState({files:t},this.calculateCombinations)}},{key:"changeNumber",value:function(e){this.setState({numberOfImages:e.target.value},this.calculateCombinations)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(d,{images:this.state.files,loadFile:this.loadFile,removeFile:this.removeFile,changeNumber:this.changeNumber,numberOfImages:this.state.numberOfImages,setSettings:this.setSettings,settings:this.state.settings}),i.a.createElement(f,{combinations:this.state.combinations,numberOfImages:this.state.numberOfImages,settings:this.state.settings}))}}]),t}(i.a.Component),d=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={files:[]},n.convertToPng=n.convertToPng.bind(Object(m.a)(n)),n.convertToAllPng=n.convertToAllPng.bind(Object(m.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"convertToPng",value:function(){var e=document.getElementById("Preview");p.a.toPng(e).then((function(e){var t=document.createElement("a");t.download="obrazki.png",t.href=e,t.click()}))}},{key:"convertToAllPng",value:function(){Array.from(document.getElementById("Preview").children).map((function(e,t){p.a.toPng(e).then((function(e){var n=document.createElement("a");n.download="image-"+(t+1)+".png",n.href=e,n.click()}))}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"ConfigurationMenu"},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("input",{type:"file",onChange:this.props.loadFile}))),i.a.createElement("div",null,"Liczba obrazk\xf3w: ",i.a.createElement("input",{type:"number",min:1,value:this.props.numberOfImages,onChange:this.props.changeNumber})),i.a.createElement("div",{id:"ImagePreview"},this.props.images.map((function(t,n){return i.a.createElement("div",{key:n},i.a.createElement("button",{onClick:function(){return e.props.removeFile(n)}},"X"),i.a.createElement("img",{src:t,alt:"Photo number "+n}))}))),i.a.createElement("form",{id:"SlidersForm"},"Padding: ",i.a.createElement("input",{type:"range",min:1,max:8,step:.1,value:this.props.settings.padding,onChange:this.props.setSettings.bind(this,"padding")}),"Gap: ",i.a.createElement("input",{type:"range",min:0,max:10,step:.1,value:this.props.settings.gap,onChange:this.props.setSettings.bind(this,"gap")}),"(beta) Tryb doodle: ",i.a.createElement("input",{type:"checkbox",value:this.props.settings.doodle,onChange:this.props.setSettings.bind(this,"doodle")})),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.convertToPng,className:"menuButton"},"Pobierz razem"),i.a.createElement("button",{onClick:this.convertToAllPng,className:"menuButton"},"Pobierz oddzielnie")))}}]),t}(i.a.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"Preview"},this.props.combinations.map((function(t,n){return i.a.createElement("div",{key:n,className:"card",style:{gridTemplateColumns:"repeat("+Math.ceil(Math.sqrt(e.props.numberOfImages))+", auto)",gridTemplateRows:"repeat("+Math.ceil(Math.sqrt(e.props.numberOfImages))+", auto)",gridGap:e.props.settings.gap+"em",padding:e.props.settings.padding+"em"}},t.map((function(e,t){return i.a.createElement("img",{src:e,key:t,alt:"links",style:{transform:"rotate("+Math.ceil(360*Math.random())+"deg)"}})})))})))}}]),t}(i.a.Component),v=b;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.550506e8.chunk.js.map